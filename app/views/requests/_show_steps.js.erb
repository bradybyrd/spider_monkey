$('#steps_placeholder').replaceWith("<%= j(render partial: 'steps/step_rows/step', collection: steps_top_level, as: :step,
                 locals: {
                         request: request,
                         steps_with_invalid_components: steps_with_invalid_components,
                         step_headers: step_headers,
                         step_preferences: step_preference_lists,
                         available_package_ids: available_package_ids
                 } ) %>");

$('#steps_list').livequery( function() { $(this).eventsForStepsList();});
$('div.tiny_step_buttons').find('input').click(function(e) {e.stopPropagation();});
retainTwiddleStates();
