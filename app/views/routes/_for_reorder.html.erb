<%
################################################################################
# BMC Software, Inc.
# Confidential and Proprietary
# Copyright (c) BMC Software, Inc. 2001-2012
# All Rights Reserved.
################################################################################
%>
<div class="route_gate component_color_1" <%= colorized_tag_options(route_gate.environment_type.try(:label_color)) %> title="<%= route_gate.full_label %>">
  <p><%= truncate_middle(route_gate.environment.name, :max => 20, :position => 0.6 ) %>
    <% if route_gate.can_be_deleted? && !route_gate.route.default? -%>
    <span class="delete_route_gate">
      <% if can? :configure_gates, Route.new %>
        <%= link_to 'x', app_route_route_gate_path(app, route_gate.route, route_gate), :title => 'Remove route gate', :method => :delete, :confirm => "Are you sure you want to delete this route gate?" %>
      <% end %>
    </span>
    <% end %>
  </p>

  <!-- form is used for drag and drop environments -->
  <% if can? :configure_gates, Route.new %>
    <%= form_for [app, route_gate.route, route_gate], :url => app_route_route_gate_path(app, route_gate.route, route_gate) do |f| %>
    <% end %>
  <% end %>
</div>

